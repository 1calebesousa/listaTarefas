<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Tarefas</title>
  <style>
    /* Definindo cores para tema claro e escuro */
    :root {
      --bg-color-light: #fff;
      --text-color-light: #000;
      --bg-color-dark: #121212;
      --text-color-dark: #f0f0f0;
      --bg-color-pink: #d405e7;
      --text-color-dark: #ffffff;

    }

    /* Estilos para o tema claro */
    body[data-theme="light"] {
      background-color: var(--bg-color-light);
      color: var(--text-color-light);
    }

    /* Estilos para o tema escuro */
    body[data-theme="dark"] {
      background-color: var(--bg-color-dark);
      color: var(--text-color-dark);
    }

    /*estilo tema rosa*/
    body[data-theme="pink"] {
      background-color: var(--bg-color-pink);
      color: var(--text-color-pink);
    }

    /* Estilos gerais do corpo da p√°gina */
    body {
      font-family: Arial, sans-serif; /* Fonte usada na p√°gina */
      padding: 20px;                  /* Espa√ßo interno ao redor */
      max-width: 600px;               /* Largura m√°xima da p√°gina */
      margin: auto;                  /* Centraliza horizontalmente */
      transition: background-color 0.3s, color 0.3s; /* Suaviza troca de tema */
    }

    /* Estilo para inputs, bot√µes e select */
    input[type="text"], button, select {
      padding: 10px;  /* Espa√ßo interno */
      margin: 5px 0;  /* Espa√ßo externo em cima e embaixo */
    }

    /* Remove marcador das listas */
    ul {
      list-style: none;
      padding: 0; /* Remove espa√ßamento padr√£o */
    }

    /* Cada item da lista */
    li {
      padding: 10px; /* Espa√ßo interno */
      border-bottom: 1px solid #ddd; /* Linha abaixo do item */
      display: flex; /* Usa flexbox para alinhar itens */
      justify-content: space-between; /* Espa√ßa os elementos ao m√°ximo */
      align-items: center; /* Alinha verticalmente ao centro */
      flex-wrap: wrap; /* Permite quebra de linha se necess√°rio */
    }

    /* Quando a tarefa est√° conclu√≠da, risca o texto e muda a cor */
    li.concluida span.texto {
      text-decoration: line-through;
      color: gray;
    }

    /* Estilo dos bot√µes agrupados */
    .botoes button {
      margin-left: 5px; /* Espa√ßo entre os bot√µes */
    }

    /* Espa√ßamento da se√ß√£o de filtros */
    .filtros {
      margin: 10px 0;
    }

    /* Estilo arredondado para o input da nova tarefa */
    #novaTarefa {
      border-radius: 20px;
    }

    /* Estilo arredondado para os bot√µes */
    #addtarefa, #toggleTheme {
      border-radius: 10px;
    }

    #addtarefa, #pinkTheme {
      border-radius: 10px;
    }

    /* Estilo arredondado para o select de filtro */
    #filtro {
      border-radius: 10px;
    }

    /* Estilo para o contador de cliques da tarefa */
    .contador {
      font-size: 0.9em; /* Fonte menor */
      color: gray;
      margin-left: 10px; /* Espa√ßo √† esquerda */
    }

    /* Faz o texto da tarefa parecer clic√°vel */
    span.texto {
      cursor: pointer;
    }
  </style>
</head>

<body data-theme="light">
  <h2>üìã Lista de Tarefas</h2>

  <!-- Bot√£o para alternar entre tema claro e escuro -->
  <button id="toggleTheme">üåô Alternar Tema</button>
  <button id="pinkTheme">Tema Rosa</button>

  <!-- Input para digitar nova tarefa -->
  <input type="text" id="novaTarefa" placeholder="Digite uma nova tarefa" />
  <!-- Bot√£o para adicionar a tarefa digitada -->
  <button id="addtarefa">Adicionar</button>

  <!-- √Årea de filtros para mostrar tarefas -->
  <div class="filtros">
    <label for="filtro">Filtrar: </label>
    <select id="filtro">
      <option value="todas">Todas</option>
      <option value="concluidas">Conclu√≠das</option>
      <option value="pendentes">Pendentes</option>
    </select>
  </div>

  <!-- Lista onde as tarefas ser√£o exibidas -->
  <ul id="listaTarefas"></ul>

  <script>
    // Array para guardar as tarefas
    let tarefas = [];

    // Fun√ß√£o que roda quando a p√°gina carrega
    window.onload = function () {
      // Pega as tarefas salvas no navegador (se houver)
      const armazenadas = localStorage.getItem("tarefas");
      if (armazenadas) tarefas = JSON.parse(armazenadas); // Transforma o texto em objeto
      renderizarTarefas(); // Mostra as tarefas na tela

      // Configura o tema salvo ou define claro como padr√£o
      const temaSalvo = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', temaSalvo);
      atualizarBotaoTema();
    };

    // Evento para mudar tema quando bot√£o √© clicado
    document.getElementById('toggleTheme').addEventListener('click', () => {
      const temaAtual = document.body.getAttribute('data-theme');

      document.getElementById('pinkTheme').addEventListener('click', () => {
        const temaRosa = document.body.getAttribute('data-theme');


      // Alterna entre claro e escuro
      const novoTema = temaAtual === 'light' ? 'dark': 'light';
      document.body.setAttribute('data-theme', novoTema);
      localStorage.setItem('theme', novoTema); // Salva o tema escolhido
      atualizarBotaoTema(); // Atualiza texto do bot√£o
    });

    // Atualiza o texto do bot√£o de tema conforme tema atual
    function atualizarBotaoTema() {
    const tema = document.body.getAttribute('data-theme');
      const btn = document.getElementById('toggleTheme');
      btn.textContent = tema === 'light' ? 'üåô Modo Escuro' : '‚òÄÔ∏è Modo Claro';
    }

    // Evento do bot√£o "Adicionar" para criar uma nova tarefa
    document.getElementById("addtarefa").addEventListener("click", adicionarTarefa);

    // Fun√ß√£o para adicionar uma nova tarefa ao array e salvar
    function adicionarTarefa() {
      const input = document.getElementById("novaTarefa");
      const texto = input.value.trim(); // Remove espa√ßos extras

      if (texto === "") {
        alert("Digite uma tarefa v√°lida."); // Impede adicionar tarefa vazia
        return;
      }

      // Adiciona a tarefa com contador zerado e status n√£o conclu√≠do
      tarefas.push({ texto, concluida: false, contador: 0 });
      salvarNoLocalStorage(); // Salva no navegador
      input.value = ""; // Limpa o campo de texto
      renderizarTarefas(); // Atualiza a lista na tela
    }

    // Fun√ß√£o para salvar o array de tarefas no localStorage
    function salvarNoLocalStorage() {
      localStorage.setItem("tarefas", JSON.stringify(tarefas));
    }

    // Fun√ß√£o para editar o texto de uma tarefa
    function editarTarefa(index) {
      const novoTexto = prompt("Editar tarefa:", tarefas[index].texto);
      if (novoTexto !== null && novoTexto.trim() !== "") {
        tarefas[index].texto = novoTexto.trim();
        salvarNoLocalStorage();
        renderizarTarefas();
      }
    }

    // Fun√ß√£o que mostra as tarefas na tela, conforme filtro selecionado
    function renderizarTarefas() {
      const lista = document.getElementById("listaTarefas");
      const filtro = document.getElementById("filtro").value;
      lista.innerHTML = ""; // Limpa a lista antes de renderizar

      // Para cada tarefa no array...
      tarefas.forEach((tarefa, index) => {
        // Decide se deve mostrar conforme filtro
        const mostrar =
          filtro === "todas" ||
          (filtro === "concluidas" && tarefa.concluida) ||
          (filtro === "pendentes" && !tarefa.concluida);

        if (mostrar) {
          const li = document.createElement("li"); // Cria item da lista
          if (tarefa.concluida) li.classList.add("concluida"); // Adiciona classe se conclu√≠da

          const spanTexto = document.createElement("span");
          spanTexto.className = "texto";
          spanTexto.textContent = tarefa.texto;
          spanTexto.title = "Clique para aumentar a contagem"; // Dica ao passar mouse

          // Quando clica no texto, aumenta o contador dessa tarefa
          spanTexto.addEventListener("click", () => {
            tarefa.contador = (tarefa.contador || 0) + 1; // Incrementa contador
            salvarNoLocalStorage();
            renderizarTarefas(); // Atualiza a lista para mostrar novo contador
          });

          // Mostra a quantidade de cliques na tarefa
          const contadorSpan = document.createElement("span");
          contadorSpan.className = "contador";
          contadorSpan.textContent = `Cliques: ${tarefa.contador || 0}`;

          // Div que vai guardar os bot√µes
          const botoes = document.createElement("div");
          botoes.className = "botoes";

          // Bot√£o para marcar/desmarcar como conclu√≠da
          const btnConcluir = document.createElement("button");
          btnConcluir.textContent = "‚úîÔ∏è";
          btnConcluir.addEventListener("click", () => {
            tarefa.concluida = !tarefa.concluida; // Alterna o estado
            salvarNoLocalStorage();
            renderizarTarefas();
          });

          // Bot√£o para editar tarefa
          const btnEditar = document.createElement("button");
          btnEditar.textContent = "‚úèÔ∏è";
          btnEditar.addEventListener("click", () => editarTarefa(index));

          // Bot√£o para remover tarefa
          const btnRemover = document.createElement("button");
          btnRemover.textContent = "üóëÔ∏è";
          btnRemover.addEventListener("click", () => {
            if (confirm("Remover esta tarefa?")) {
              tarefas.splice(index, 1); // Remove do array
              salvarNoLocalStorage();
              renderizarTarefas();
            }
          });

          // Bot√£o para zerar o contador da tarefa
          const btnReset = document.createElement("button");
          btnReset.textContent = "üîÑ";
          btnReset.title = "Zerar contagem";
          btnReset.addEventListener("click", () => {
            tarefa.contador = 0; // Zera contador
            salvarNoLocalStorage();
            renderizarTarefas();
          });

          // Adiciona todos os bot√µes ao container
          botoes.appendChild(btnConcluir);
          botoes.appendChild(btnEditar);
          botoes.appendChild(btnRemover);
          botoes.appendChild(btnReset);

          // Adiciona o texto, contador e bot√µes ao item da lista
          li.appendChild(spanTexto);
          li.appendChild(contadorSpan);
          li.appendChild(botoes);

          // Adiciona o item √† lista na p√°gina
          lista.appendChild(li);
        }
      });
    }

    // Quando o filtro mudar, atualiza a lista
    document.getElementById("filtro").addEventListener("change", renderizarTarefas);
  </script>
</body>
</html>
